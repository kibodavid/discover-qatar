<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>974 Journey: Refined Edition</title>
    <style>
        :root { --maroon: #8D1B3D; --gold: #D4AF37; --green: #28a745; --red: #dc3545; --bg: #f8f9fa; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .app-card { background: white; width: 92%; max-width: 450px; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); border-top: 10px solid var(--maroon); overflow: hidden; }
        .header { background: var(--maroon); color: white; padding: 20px; text-align: center; }
        .quiz-body { padding: 30px; }
        .hud { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .section-tag { color: var(--maroon); font-size: 0.75rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }
        .progress-text { font-size: 0.9rem; font-weight: bold; color: var(--gold); }
        .question { font-size: 1.15rem; font-weight: 600; margin-bottom: 25px; line-height: 1.4; color: #333; }
        .options { display: grid; gap: 12px; }
        .opt-btn { padding: 16px; border: 2px solid #eee; border-radius: 12px; background: white; cursor: pointer; text-align: left; font-size: 1rem; transition: 0.2s; }
        .correct { background: var(--green) !important; color: white !important; border-color: var(--green) !important; }
        .wrong { background: var(--red) !important; color: white !important; border-color: var(--red) !important; }
        .highlight { background: var(--gold) !important; color: white !important; border-color: var(--gold) !important; }
        .milestone-screen { display: none; text-align: center; padding: 40px 25px; }
        .action-btn { background: var(--maroon); color: white; border: none; padding: 15px 30px; border-radius: 10px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 20px; font-size: 1.1rem; }
        .progress-container { height: 6px; background: #eee; width: 100%; }
        .progress-fill { height: 100%; background: var(--gold); width: 0%; transition: 0.5s; }
    </style>
</head>
<body>

<div class="app-card">
    <div class="header"><h2 style="margin:0">974 Journey</h2></div>
    <div class="progress-container"><div class="progress-fill" id="fill"></div></div>

    <div id="game-ui">
        <div class="quiz-body">
            <div class="hud">
                <div id="sect-label" class="section-tag">Section</div>
                <div id="prog-count" class="progress-text">0 / 0</div>
            </div>
            <div id="q-text" class="question"></div>
            <div id="opt-container" class="options"></div>
        </div>
    </div>

    <div id="milestone-ui" class="milestone-screen">
        <h2 id="m-title">Section Complete</h2>
        <p id="m-msg"></p>
        <div style="font-size: 1.5rem; font-weight: bold; color: var(--maroon);" id="m-score"></div>
        <button class="action-btn" id="next-btn">Unlock Next Section â†’</button>
    </div>

    <div id="final-ui" class="milestone-screen">
        <h2 style="color: var(--maroon)">Mubarak!</h2>
        <p>You have mastered the 9-7-4 Challenge.</p>
        <div style="font-size: 2.5rem; font-weight: bold; color: var(--gold);" id="f-score"></div>
        <button class="action-btn" onclick="location.reload()">Restart</button>
    </div>
</div>

<script>
const quizData = [
    // 9 LANDMARKS
    { q: "This country is officially the second flattest in the world. What is its highest point?", options: ["103 Meters", "500 Meters", "12 Meters", "850 Meters"], correct: 0 },
    { q: "Which market is the historic 'Standing Market' known for its traditional architecture?", options: ["Mall of Qatar", "Souq Waqif", "Villaggio", "City Center"], correct: 1 },
    { q: "The artificial island 'The Pearl' is shaped like what historic local treasure?", options: ["A Falcon's wing", "A Dhow boat", "A string of pearls", "A Desert Rose"], correct: 2 },
    { q: "Where can you find the Venice-inspired district called Qanat Quartier?", options: ["Msheireb", "The Pearl", "Lusail City", "Katara"], correct: 1 },
    { q: "The National Museum's design by Jean Nouvel is inspired by which crystal?", options: ["Quartz", "Desert Rose", "Amethyst", "Emerald"], correct: 1 },
    { q: "Which skyline is famous for the 300-meter 'Torch Tower'?", options: ["West Bay", "Lusail", "Aspire Zone", "The Pearl"], correct: 2 },
    { q: "Which futuristic city features the iconic Katara Towers (crescent-shaped)?", options: ["Al Rayyan", "Al Wakrah", "Lusail City", "Msheireb"], correct: 2 },
    { q: "Where is the rare 'Inland Sea' (Khor Al Adaid) where desert meets water?", options: ["North Coast", "Southeast Border", "West Coast", "Near the Airport"], correct: 1 },
    { q: "Which museum is located on its own man-made island at the end of the Corniche?", options: ["National Museum", "Mathaf", "Museum of Islamic Art", "Fire Station"], correct: 2 },

    // 7 CULTURE
    { q: "What is the national animal known for its majestic white coat and long horns?", options: ["Sand Gazelle", "Arabian Oryx", "Desert Camel", "Golden Falcon"], correct: 1 },
    { q: "Which spiced rice dish is considered the national staple?", options: ["Majboos", "Shawarma", "Hummus", "Biryani"], correct: 0 },
    { q: "What is the name of the popular cardamom-spiced tea served with milk?", options: ["Gahwa", "Karak", "Loomi", "Sulaimani"], correct: 1 },
    { q: "The traditional room used for welcoming and hosting guests is called a:", options: ["Bait", "Majlis", "Souq", "Sadu"], correct: 1 },
    { q: "True or False: Falconry has been part of the local lifestyle for over 4,000 years.", options: ["True", "False"], correct: 0 },
    { q: "The nine serrated points on the national flag represent its status as the 9th member of which treaty?", options: ["1916 Reconciled Emirates", "UN Charter", "Gulf Union", "League of Nations"], correct: 0 },
    { q: "What is the name of the traditional weaving art practiced by Bedouin women?", options: ["Karak", "Sadu", "Bisht", "Oud"], correct: 1 },

    // 4 VISION 2026
    { q: "True or False: Doha is officially named the GCC Tourism Capital for 2026.", options: ["True", "False"], correct: 0 },
    { q: "Which record-breaking driverless transport system connects the main city hubs in 2026?", options: ["The Metro", "The Tram", "The Monorail", "The Hyperloop"], correct: 0 },
    { q: "True or False: Over 100 nationalities can enter the country visa-free in 2026.", options: ["True", "False"], correct: 0 },
    { q: "True or False: The country is ranked as the #1 Safest Country in the world for 2026.", options: ["True", "False"], correct: 0 }
];

let curIdx = 0, totalScore = 0, canClick = true, firstTry = true;

const gameUI = document.getElementById("game-ui");
const milestoneUI = document.getElementById("milestone-ui");
const nextBtn = document.getElementById("next-btn");

nextBtn.addEventListener("click", () => {
    milestoneUI.style.display = "none";
    gameUI.style.display = "block";
    loadQuestion();
});

function loadQuestion() {
    const d = quizData[curIdx];
    let sectLabel = "", progNum = 0, sectTotal = 0;

    if (curIdx < 9) { sectLabel = "Landmarks"; progNum = curIdx + 1; sectTotal = 9; }
    else if (curIdx < 16) { sectLabel = "Culture"; progNum = curIdx - 8; sectTotal = 7; }
    else { sectLabel = "Vision 2026"; progNum = curIdx - 15; sectTotal = 4; }

    document.getElementById("sect-label").innerText = `Section: ${sectLabel}`;
    document.getElementById("prog-count").innerText = `${progNum} / ${sectTotal}`;
    document.getElementById("fill").style.width = (progNum / sectTotal * 100) + "%";
    document.getElementById("q-text").innerText = d.q;

    const cont = document.getElementById("opt-container");
    cont.innerHTML = "";
    canClick = true; firstTry = true;

    d.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.className = "opt-btn";
        btn.innerText = opt;
        btn.onclick = () => check(i, btn);
        cont.appendChild(btn);
    });
}

function check(i, btn) {
    if (!canClick) return;
    const d = quizData[curIdx];
    if (i === d.correct) {
        btn.classList.add("correct");
        if (firstTry) totalScore++;
        canClick = false;
        setTimeout(() => {
            curIdx++;
            if (curIdx === 9 || curIdx === 16) showMilestone();
            else if (curIdx < quizData.length) loadQuestion();
            else showFinal();
        }, 800);
    } else {
        btn.classList.add("wrong");
        firstTry = false;
        document.querySelectorAll(".opt-btn")[d.correct].classList.add("highlight");
        canClick = false;
        setTimeout(() => {
            curIdx++;
            if (curIdx === 9 || curIdx === 16) showMilestone();
            else if (curIdx < quizData.length) loadQuestion();
            else showFinal();
        }, 1600);
    }
}

function showMilestone() {
    gameUI.style.display = "none";
    milestoneUI.style.display = "block";
    document.getElementById("m-title").innerText = "Section Complete!";
    document.getElementById("m-msg").innerText = "You've unlocked the next chapter of the 974 Journey.";
    document.getElementById("m-score").innerText = `Score: ${totalScore} / ${curIdx}`;
}

function showFinal() {
    gameUI.style.display = "none";
    document.getElementById("final-ui").style.display = "block";
    document.getElementById("f-score").innerText = `${totalScore} / 20`;
}

loadQuestion();
</script>
</body>
</html>
