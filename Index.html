<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover Qatar: The 974 Challenge</title>
    <style>
        :root {
            --qatar-maroon: #8D1B3D;
            --qatar-gold: #D4AF37;
            --bg: #fdfafb;
            --text: #333;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .app-card {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            overflow: hidden;
            border-top: 8px solid var(--qatar-maroon);
        }

        .header {
            background: var(--qatar-maroon);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            padding: 10px 20px;
            background: #f8f8f8;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .quiz-body {
            padding: 30px;
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .options-list {
            display: grid;
            gap: 12px;
        }

        .option-btn {
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--qatar-maroon);
            background: #fff9fa;
        }

        .correct { background: #d4edda !important; border-color: #28a745 !important; color: #155724; }
        .wrong { background: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; }

        .explanation {
            margin-top: 20px;
            padding: 15px;
            background: #fff9e6;
            border-left: 5px solid var(--qatar-gold);
            border-radius: 5px;
            display: none;
        }

        .next-btn {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            border: none;
            border-radius: 12px;
            background: var(--qatar-maroon);
            color: white;
            font-weight: bold;
            cursor: pointer;
            display: none;
        }

        .result-screen {
            text-align: center;
            padding: 40px 20px;
            display: none;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="app-card">
    <div class="header">
        <h2 style="margin:0">Discover Qatar</h2>
        <small>The 974 Challenge</small>
    </div>

    <div id="game-container">
        <div class="stats-bar">
            <span id="progress-text">Question 1/9</span>
            <span id="score-text">Score: 9/9</span>
        </div>

        <div class="quiz-body">
            <div id="question-text" class="question">Loading question...</div>
            <div id="options-container" class="options-list"></div>
            
            <div id="explanation-box" class="explanation">
                <strong>Did you know?</strong><br>
                <span id="explanation-content"></span>
            </div>

            <button id="next-btn" class="next-btn" onclick="nextQuestion()">Next Level →</button>
        </div>
    </div>

    <div id="result-screen" class="result-screen">
        <h1 style="color: var(--qatar-maroon)">Mubarak!</h1>
        <p id="final-stats"></p>
        <p style="font-size: 0.9rem; color: #666">Pitch: Former Security Professional turned Tourism Ambassador.</p>
        <button class="next-btn" style="display:block" onclick="location.reload()">Try for a Perfect Score</button>
    </div>
</div>

<script>
    const questions = [
        {
            q: "What causes the 'Singing Sand Dunes' of Qatar to sing?",
            options: ["Underground water pipes", "Friction between sand grains", "Wind in limestone caves", "Salt reflecting sound"],
            correct: 1,
            e: "As sand slides down, friction between grain sizes creates a low-frequency hum like a chant!"
        },
        {
            q: "Which animal is the national symbol of the State of Qatar?",
            options: ["Peregrine Falcon", "Arabian Oryx", "Dromedary Camel", "Arabian Horse"],
            correct: 1,
            e: "The Arabian Oryx (Al Maha) was once extinct in the wild but saved by Qatari conservation efforts."
        },
        {
            q: "Geographically, Qatar is unique for being the second ______ country in the world.",
            options: ["Smallest", "Flattest", "Most elevated", "Most forested"],
            correct: 1,
            e: "Qatar is incredibly flat; its highest point is only 103 meters above sea level!"
        },
        {
            q: "What is unique about the 'Inland Sea' (Khor Al Adaid)?",
            options: ["It is made of fresh water", "The sea meets the heart of the desert", "It has underwater ruins", "It's home to desert penguins"],
            correct: 1,
            e: "It is one of the few places on Earth where the ocean encroaches deep into the desert dunes."
        },
        {
            q: "Which island was historically famous for producing rare purple dye?",
            options: ["The Pearl-Qatar", "Purple Island (Bin Ghannam)", "Al Safliya Island", "Banana Island"],
            correct: 1,
            e: "In ancient times, dye was extracted here from sea snails for royal garments."
        },
        {
            q: "What is 'Machboos', the national dish of Qatar?",
            options: ["A sweet date dessert", "A spiced rice dish with meat/fish", "A traditional breakfast bread", "A street food wrap"],
            correct: 1,
            e: "It's a fragrant rice dish made with 'Bezar' spices and dried lime (Loomi)."
        },
        {
            q: "In which year did Qatar host the first-ever winter FIFA World Cup?",
            options: ["2018", "2022", "2020", "2024"],
            correct: 1,
            e: "The 2022 World Cup was the most compact and sustainable in history."
        },
        {
            q: "What do the nine points on the Qatari flag represent?",
            options: ["The 9 municipalities", "The 9th member of 'reconciled Emirates'", "9 months of pearl season", "9 founding tribes"],
            correct: 1,
            e: "The points signify Qatar becoming the 9th member of the reconciled Emirates in 1916."
        },
        {
            q: "Which airport was named 'World’s Best' in 2024?",
            options: ["Doha International", "Hamad International (HIA)", "Lusail Executive", "Al Khor Airfield"],
            correct: 1,
            e: "Hamad International is famous for 'The Orchard,' an indoor tropical garden."
        }
    ];

    let currentIdx = 0;
    let totalPoints = 9;
    let firstAttempt = true;

    function loadQuestion() {
        const data = questions[currentIdx];
        document.getElementById("progress-text").innerText = `Question ${currentIdx + 1}/9`;
        document.getElementById("question-text").innerText = data.q;
        document.getElementById("explanation-box").style.display = "none";
        document.getElementById("next-btn").style.display = "none";
        
        const container = document.getElementById("options-container");
        container.innerHTML = "";
        firstAttempt = true;

        data.options.forEach((opt, i) => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            btn.innerText = opt;
            btn.onclick = () => checkAns(i, btn);
            container.appendChild(btn);
        });
    }

    function checkAns(idx, btn) {
        const data = questions[currentIdx];
        if (idx === data.correct) {
            btn.classList.add("correct");
            document.getElementById("explanation-content").innerText = data.e;
            document.getElementById("explanation-box").style.display = "block";
            document.getElementById("next-btn").style.display = "block";
            
            // Disable all buttons
            const allBtns = document.querySelectorAll(".option-btn");
            allBtns.forEach(b => b.disabled = true);
        } else {
            if (firstAttempt) {
                totalPoints--;
                document.getElementById("score-text").innerText = `Score: ${totalPoints}/9`;
                firstAttempt = false;
            }
            btn.classList.add("wrong");
            btn.disabled = true;
        }
    }

    function nextQuestion() {
        currentIdx++;
        if (currentIdx < questions.length) {
            loadQuestion();
        } else {
            showResults();
        }
    }

    function showResults() {
        document.getElementById("game-container").classList.add("hidden");
        const screen = document.getElementById("result-screen");
        screen.style.display = "block";
        document.getElementById("final-stats").innerText = `Final Accuracy Score: ${totalPoints}/9`;
    }

    loadQuestion();
</script>

</body>
</html>